
@{
    ViewBag.Title = "THỐNG KÊ BÀI BÁO KHOA HỌC THEO KHU VỰC";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="card card-custom gutter-b">
    <div class="card-body">
        <!--begin: Search Form-->
        <!--begin::Search Form-->
        <div class="mb-7">
            <div class="row align-items-center">
                <div class="col-lg-10 col-xl-8">
                    <div class="row align-items-center">

                        <div class="col-md-3 my-2 my-md-0">
                            <div class="d-flex align-items-center">
                                <label class="mr-3 mb-0 d-none d-md-block">Năm:</label>
                                <select class="form-control"
                                        id="search_nam">
                                    <option label="Label"></option>
                                    <option value="">2021</option>
                                    <option value="1">2020</option>
                                    <option value="2">2019</option>
                                    <option value="3">2018</option>
                                    <option value="4">2017</option>
                                    <option value="5">2016</option>
                                    <option value="6">2015</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-xl-3 mt-5 mt-lg-0">
                            <a href="#"
                               class="btn btn-light-primary px-6 font-weight-bold">
                                Tìm kiếm
                            </a>
                        </div>

                    </div>

                </div>
                <div class="col-lg-2 col-xl-4 mt-5 mt-lg-0" style="text-align: right;">
                    <div class="dropdown dropdown-inline mr-2">
                        <button type="button"
                                class="btn btn-light-primary font-weight-bolder dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                            <span class="svg-icon svg-icon-md">
                                <!--begin::Svg Icon | path:assets/media/svg/icons/Design/PenAndRuller.svg--><svg xmlns="http://www.w3.org/2000/svg"
                                                                                                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                                                                 width="24px" height="24px" viewBox="0 0 24 24"
                                                                                                                 version="1.1">
                                    <g stroke="none" stroke-width="1" fill="none"
                                       fill-rule="evenodd">
                                        <rect x="0" y="0" width="24" height="24" />
                                        <path d="M3,16 L5,16 C5.55228475,16 6,15.5522847 6,15 C6,14.4477153 5.55228475,14 5,14 L3,14 L3,12 L5,12 C5.55228475,12 6,11.5522847 6,11 C6,10.4477153 5.55228475,10 5,10 L3,10 L3,8 L5,8 C5.55228475,8 6,7.55228475 6,7 C6,6.44771525 5.55228475,6 5,6 L3,6 L3,4 C3,3.44771525 3.44771525,3 4,3 L10,3 C10.5522847,3 11,3.44771525 11,4 L11,19 C11,19.5522847 10.5522847,20 10,20 L4,20 C3.44771525,20 3,19.5522847 3,19 L3,16 Z"
                                              fill="#000000" opacity="0.3" />
                                        <path d="M16,3 L19,3 C20.1045695,3 21,3.8954305 21,5 L21,15.2485298 C21,15.7329761 20.8241635,16.200956 20.5051534,16.565539 L17.8762883,19.5699562 C17.6944473,19.7777745 17.378566,19.7988332 17.1707477,19.6169922 C17.1540423,19.602375 17.1383289,19.5866616 17.1237117,19.5699562 L14.4948466,16.565539 C14.1758365,16.200956 14,15.7329761 14,15.2485298 L14,5 C14,3.8954305 14.8954305,3 16,3 Z"
                                              fill="#000000" />
                                    </g>
                                </svg>
                                <!--end::Svg Icon-->
                            </span> Export
                        </button>

                        <!--begin::Dropdown Menu-->
                        <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                            <!--begin::Navigation-->
                            <ul class="navi flex-column navi-hover py-2">
                                <li class="navi-header font-weight-bolder text-uppercase font-size-sm text-primary pb-2">
                                    Choose an option:
                                </li>
                                <li class="navi-item">
                                    <a href="#" class="navi-link">
                                        <span class="navi-icon">
                                            <i class="la la-print"></i>
                                        </span>
                                        <span class="navi-text">Print</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="#" class="navi-link">
                                        <span class="navi-icon">
                                            <i class="la la-copy"></i>
                                        </span>
                                        <span class="navi-text">Copy</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="#" onclick="saveFile()" class="navi-link">
                                        <span class="navi-icon">
                                            <i class="la la-file-excel-o"></i>
                                        </span>
                                        <span class="navi-text">Excel</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="#" class="navi-link">
                                        <span class="navi-icon">
                                            <i class="la la-file-text-o"></i>
                                        </span>
                                        <span class="navi-text">CSV</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="#" class="navi-link">
                                        <span class="navi-icon">
                                            <i class="la la-file-pdf-o"></i>
                                        </span>
                                        <span class="navi-text">PDF</span>
                                    </a>
                                </li>
                            </ul>
                            <!--end::Navigation-->
                        </div>
                        <!--end::Dropdown Menu-->
                    </div>
                </div>
            </div>
            <div class="row align-items-center">

            </div>
        </div>
        <!--end::Search Form-->
        <!--begin: Datatable-->
        <table class="table table-bordered table-checkable" id="kt_datatable">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>Nghiên cứu KH</th>
                    <th>Tổng</th>
                    <th>HN</th>
                    <th>HCM</th>
                    <th>ĐN</th>
                    <th>CT</th>
                    <th>FSB</th>
                    <th>FPL</th>
                    <th>Khác</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Số công bố quốc tế</td>
                    <td>Tổng</td>
                    <td>242</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Q1</td>
                    <td>28</td>
                    <td>24</td>
                    <td>1</td>
                    <td>0</td>
                    <td>2</td>
                    <td>0</td>
                    <td>0</td>
                    <td>1</td>
                    <td>FTRI</td>
                </tr>
                <tr>
                    <td height="20">Q2</td>
                    <td sdval="28" sdnum="1033;">28</td>
                    <td sdval="22" sdnum="1033;">22</td>
                    <td sdval="2" sdnum="1033;">2</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="2" sdnum="1033;">2</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">Q3</td>
                    <td sdval="45" sdnum="1033;">45</td>
                    <td sdval="22" sdnum="1033;">22</td>
                    <td sdval="14" sdnum="1033;">14</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="8" sdnum="1033;">8</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">Kh&aacute;c</td>
                    <td sdval="103" sdnum="1033;">103</td>
                    <td sdval="60" sdnum="1033;">60</td>
                    <td sdval="20" sdnum="1033;">20</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="15" sdnum="1033;">15</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="4" sdnum="1033;">4</td>
                    <td sdval="3" sdnum="1033;">3</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">S&#7889; CBGV c&oacute; c&ocirc;ng b&#7889; QT</td>
                    <td sdval="61" sdnum="1033;">61</td>
                    <td sdval="25" sdnum="1033;">25</td>
                    <td sdval="8" sdnum="1033;">8</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="5" sdnum="1033;">5</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="4" sdnum="1033;">4</td>
                    <td sdval="18" sdnum="1033;">18</td>
                    <td>(FE HO, FTRI, FGW)</td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">S&#7889; b&agrave;i c&#7911;a sinh vi&ecirc;n</td>
                    <td sdval="65" sdnum="1033;">65</td>
                    <td sdval="51" sdnum="1033;">51</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="3" sdnum="1033;">3</td>
                    <td sdval="11" sdnum="1033;">11</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td sdval="0" sdnum="1033;">0</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">S&#7889; b&agrave;i &#273;&#259;ng trong n&#432;&#7899;c</td>
                    <td sdval="153" sdnum="1033;">153</td>
                    <td sdval="19" sdnum="1033;">19</td>
                    <td sdval="22" sdnum="1033;">22</td>
                    <td sdval="7" sdnum="1033;">7</td>
                    <td sdval="10" sdnum="1033;">10</td>
                    <td sdval="71" sdnum="1033;">71</td>
                    <td sdval="17" sdnum="1033;">17</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td height="20">B&aacute;o c&aacute;o t&#7841;i h&#7897;i ngh&#7883; Qu&#7889;c t&#7871;</td>
                    <td sdval="73" sdnum="1033;">73</td>
                    <td sdval="40" sdnum="1033;">40</td>
                    <td sdval="3" sdnum="1033;">3</td>
                    <td sdval="7" sdnum="1033;">7</td>
                    <td sdval="11" sdnum="1033;">11</td>
                    <td sdval="11" sdnum="1033;">11</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td sdval="1" sdnum="1033;">1</td>
                    <td></td>
                    <td></td>
                </tr>

            </tbody>
        </table>
        <!--end: Datatable-->
        @*@{
                Html.RenderPartial("_LoaderPanel");
            }*@
    </div>
</div>
@section scripts{
    <script>
        var KTDatatablesBasicBasic = function () {

            var initTable1 = function () {
                var table = $('#kt_datatable');

                // begin first table
                table.DataTable({
                    responsive: true,

                    // DOM Layout settings
                    dom: `<'row'<'col-sm-12'tr>>
                                                <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,

                    lengthMenu: [5, 10, 25, 50],

                    pageLength: 10,

                    language: {
                        'lengthMenu': 'Display _MENU_',
                    },

                    // Order settings
                    order: [[1, 'desc']],

                    columnDefs: [

                    ],
                });

                table.on('change', '.group-checkable', function () {
                    var set = $(this).closest('table').find('td:first-child .checkable');
                    var checked = $(this).is(':checked');

                    $(set).each(function () {
                        if (checked) {
                            $(this).prop('checked', true);
                            $(this).closest('tr').addClass('active');
                        }
                        else {
                            $(this).prop('checked', false);
                            $(this).closest('tr').removeClass('active');
                        }
                    });
                });

                table.on('change', 'tbody tr .checkbox', function () {
                    $(this).parents('tr').toggleClass('active');
                });
            };

            var initTable2 = function () {
                var table = $('#kt_datatable_2');

                // begin first table
                table.DataTable({
                    responsive: true,

                    // DOM Layout settings
                    dom: `<'row'<'col-sm-12'tr>>
                                                <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,

                    lengthMenu: [5, 10, 25, 50],

                    pageLength: 10,

                    language: {
                        'lengthMenu': 'Display _MENU_',
                    },

                    // Order settings
                    // order: [[0, 'desc']],

                    columnDefs: [

                    ],
                });

                table.on('change', '.group-checkable', function () {
                    var set = $(this).closest('table').find('td:first-child .checkable');
                    var checked = $(this).is(':checked');

                    $(set).each(function () {
                        if (checked) {
                            $(this).prop('checked', true);
                            $(this).closest('tr').addClass('active');
                        }
                        else {
                            $(this).prop('checked', false);
                            $(this).closest('tr').removeClass('active');
                        }
                    });
                });

                table.on('change', 'tbody tr .checkbox', function () {
                    $(this).parents('tr').toggleClass('active');
                });
            };

            return {

                //main function to initiate the module
                init: function () {
                    initTable1();
                    initTable2();
                }
            };
        }();

        jQuery(document).ready(function () {
            KTDatatablesBasicBasic.init();
        });
        //////////////////////////////////////START SELECT TAG/////////////////////////////////////////////
        list_select = {
            "search_nam": "Chọn năm"
        }
        for (let i in list_select) {
            $('#' + i).select2({
                placeholder: list_select[i],
                allowClear: true
            });
        }
        //////////////////////////////////////END SELECT TAG/////////////////////////////////////////////
    </script>
    <script src="https://cdn.jsdelivr.net/alasql/0.3/alasql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.7.12/xlsx.core.min.js"></script>
    <script src="~/Content/Custom JS/ScienceManagement/Reports/excelDownload.js"></script>
}
