
@{
    ViewBag.Title = "Mẫu đăng kí theo giai đoạn cho hoạt động học thuật";
    Layout = "~/Views/Shared/_Layout_InternationalCollaboration.cshtml";
}
<style>
    input, textarea {
        border: 0px !important;
        border-radius: 0px !important;
        font-size: 15px !important;
        margin: 3px 0px 3px 0px !important;
        white-space: pre-wrap;
    }

        input:focus {
            border-bottom: 2px solid #0094ff !important;
        }

        textarea:focus {
            border-bottom: 2px solid #0094ff !important;
            border-right: 2px solid #0094ff !important;
        }

    .card-title {
        border-top: 8px solid #0725d0 !important;
    }

    .custom-card {
        border-left: 6px solid #0094ff !important;
    }

    .input-title {
        height: 60px !important;
    }

    .row {
        padding: 8px 10px !important;
    }

    .card-after {
        margin-top: 30px !important;
    }

    .card-bottom {
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
    }

    .custom-card-after {
        margin-bottom: 2rem !important;
    }

    .card-bottom .row {
        padding: unset !important;
    }

    #main-control textarea {
        overflow: hidden !important;
        min-height: 65px !important;
    }
</style>
<div id="main-control">
    <div id="control-title">
        <div class="card card-title">
            <div class="row">
                <div class="col-sm-12 col-md-12 col-xl-12 col-lg-12">
                    <input type="text" class="form-control input-title font-size-h1-xl" id="form_title" placeholder="Tiêu đề" />
                </div>
                <div class="col-sm-12 col-md-12 col-xl-12 col-lg-12">
                    <input type="text" class="form-control text-xl-left" id="form_title_description" placeholder="Mô tả mẫu đăng kí" />
                </div>
            </div>
        </div>
    </div>
    <div id="control-1" class="mb-">
        <div class="card custom-card custom-card-after">
            <div class="row">
                <div class="col-sm-9 col-md-9 col-xl-9 col-lg-9">
                    <input type="text" class="form-control" placeholder="Câu hỏi" />
                </div>
                <div class="col-sm-3 col-md-3 col-xl-3 col-lg-3">
                    <div class="row align-items-end">
                        <select class="form-control" id="answer-type-1" onchange="changeAnswerType(1)">
                            <option checked value="Stext">Câu trả lời ngắn</option>
                            <option value="Ltext">Đoạn hội thoại</option>
                            <option value="Mchoice">Nhiều lựa chọn</option>
                            <option value="Cbox">Checkboxs</option>
                            <option value="Ddown">Drop-down</option>
                            <option value="Date">Ngày tháng năm</option>
                        </select>
                    </div>
                </div>
                <div id="answer-control-1" class="col-sm-12 col-md-12 col-xl-12 col-lg-12">
                    <div class="col-sm-6 col-md-6 col-xl-6 col-lg-6 pl-0">
                        <input type="text" class="form-control" placeholder="Câu trả lời ngắn" />
                    </div>
                </div>
                <div class="col-sm-12 col-md-12 col-xl-12 col-lg-12 card-bottom">
                    <div class="row">
                        <div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">
                            <a href="javascript:;" onclick="addQues('#control-1')" class="btn">
                                <i class="fas fa-plus-circle" style="color: #0094ffc4;"></i>
                            </a>
                        </div>
                        <div class="col-sm-offset-8 col-md-offset-8 col-xl-offset-8 col-lg-offset-8 col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">
                            <a href="javascript:;" onclick="Clone('#control-1')" class="btn">
                                <i class="fas fa-clone" style="color: #0094ffc4;"></i>
                            </a>
                        </div>
                        @*<div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">
                                    <a href="javascript:;" onclick="Delete('#control-1')" class="btn">
                                        <i class="fas fa-trash" style="color: #0094ffc4;"></i>
                                    </a>
                            </div>*@
                        <div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">
                            <span class="switch switch-sm">
                                <label>
                                    <input type="checkbox" id="compulsory-1" />
                                    <span></span>
                                </label>
                                <span class="pl-2">Bắt buộc</span>
                            </span>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
        arrDivControl = [1]
        indexDiv = 2

        function addQues(id) {
            let htmlString = '<div id="control-' + indexDiv + '">' +
                '<div class= "card custom-card custom-card-after" > ' +
                '<div class="row">' +
                '<div class="col-sm-9 col-md-9 col-xl-9 col-lg-9">' +
                '<input type="text" class="form-control" placeholder="Câu hỏi" />' +
                '</div>' +
                '<div class="col-sm-3 col-md-3 col-xl-3 col-lg-3">' +
                '<div class="row align-items-end">' +
                '<select class="form-control" id="answer-type-' + indexDiv + '" onchange="changeAnswerType(' + indexDiv + ')">' +
                '<option checked value="Stext">Câu trả lời ngắn</option>' +
                '<option value="Ltext">Đoạn hội thoại</option>' +
                '<option value="Mchoice">Nhiều lựa chọn</option>' +
                '<option value="Cbox">Checkboxs</option>' +
                '<option value="Ddown">Drop-down</option>' +
                '<option value="Date">Ngày tháng năm</option>' +
                '</select>' +
                '</div>' +
                '</div>' +
                '<div id="answer-control-' + indexDiv + '" class="col-sm-12 col-md-12 col-xl-12 col-lg-12">' +
                '<div class="col-sm-6 col-md-6 col-xl-6 col-lg-6 pl-0">' +
                '<input type="text" class="form-control" placeholder="Câu trả lời ngắn" />' +
                '</div>' +
                '</div>' +
                '<div class="col-sm-12 col-md-12 col-xl-12 col-lg-12 card-bottom">' +
                '<div class="row">' +
                '<div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">' +
                '<a href="javascript:;" onclick="addQues(\'#control-' + indexDiv + '\')" class="btn">' +
                '<i class="fas fa-plus-circle" style="color: #0094ffc4;"></i>' +
                '</a>' +
                '</div>' +
                '<div class="col-sm-offset-8 col-md-offset-8 col-xl-offset-8 col-lg-offset-8 col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">' +
                '<a href="javascript:;" onclick="Clone(\'#control-' + indexDiv + '\')" class="btn">' +
                '<i class="fas fa-clone" style="color: #0094ffc4;"></i>' +
                '</a>' +
                '</div>' +
                '<div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">' +
                '<a href="javascript:;" onclick="Delete(\'#control-' + indexDiv + '\')" class="btn">' +
                '<i class="fas fa-trash" style="color: #0094ffc4;"></i>' +
                '</a>' +
                '</div>' +
                '<div class="col-sm-1 col-md-1 col-xl-1 col-lg-1 pt-2">' +
                '<span class="switch switch-sm">' +
                '<label>' +
                '<input type="checkbox" id="compulsory-' + indexDiv + '" />' +
                '<span></span>' +
                '</label>' +
                '<span class="pl-2">Bắt buộc</span>' +
                '</span>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>';
            div = document.createElement('div');
            div1 = document.querySelector(id);
            div.innerHTML = htmlString;
            div1.parentNode.insertBefore(div.firstChild, div1.nextSibling);
            indexDiv = indexDiv + 1;
        }

        function Delete(id) {
            $(id).remove();
        }
        function Clone(id) {
            return;
        }

        function changeAnswerType(id) {
            val = document.getElementById('answer-type-' + id).value;
            switch (val) {
                case 'Stext':
                    document.getElementById('answer-control-' + id).innerHTML = '';
                    $('#answer-control-' + id).append('<div class="col-sm-6 col-md-6 col-xl-6 col-lg-6 pl-0">' +
                        '<input type="text" class="form-control" placeholder="Câu trả lời ngắn" />' +
                        '</div>');
                    break;
                case 'Ltext':
                    document.getElementById('answer-control-' + id).innerHTML = '';
                    $('#answer-control-' + id).append('<div class="col-sm-10 col-md-10 col-xl-10 col-lg-10 pl-0">' +
                        '<textarea class= "form-control" placeholder = "Đoạn hội thoại"></textarea>' +
                        '</div>');
                    break;
                case 'Mchoice':
                    break;
                case 'Cbox':
                    break;
                case 'Ddown':
                    break;
                case 'Date':
                    break;
            }
        }

        $(document).ready(function () {
            $("#main-container").attr("style", "background-color:rgb(255 255 255 / 0%) !important; box-shadow:none")
        });
    </script>
}